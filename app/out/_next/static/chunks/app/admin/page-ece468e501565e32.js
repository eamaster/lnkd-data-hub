(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{649:function(t,e,n){Promise.resolve().then(n.bind(n,2621))},2621:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var a=n(7821),c=n(8078),o=n(9618);function i(){let[t,e]=(0,c.useState)(null),[n,i]=(0,c.useState)("");return(0,a.jsxs)("main",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Admin"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:async()=>e(await o.h.admin.usage()),className:"px-4 py-2 bg-gray-200 rounded",children:"Fetch Usage"}),(0,a.jsx)("button",{onClick:async()=>{await o.h.admin.refreshCache(),i("Cache refresh triggered")},className:"px-4 py-2 bg-gray-200 rounded",children:"Refresh Cache"})]}),t&&(0,a.jsx)("pre",{className:"text-sm whitespace-pre-wrap break-all",children:JSON.stringify(t,null,2)}),n&&(0,a.jsx)("div",{children:n})]})}},9618:function(t,e,n){"use strict";async function a(t,e){let n=localStorage.getItem("token"),a=new Headers((null==e?void 0:e.headers)||{});a.set("Content-Type","application/json"),n&&a.set("Authorization","Bearer ".concat(n));let c=await fetch("".concat("https://lnkd-data-hub-proxy.smah0085.workers.dev").concat(t),{...e,headers:a});if(!c.ok){let t=await c.json().catch(()=>({message:c.statusText}));throw{code:c.status,message:t.message||"Request failed",details:t.details}}return c.json()}n.d(e,{h:function(){return c}});let c={search:{people:t=>a("/api/search/people?".concat(t.toString())),companies:t=>a("/api/search/companies?".concat(t.toString())),products:t=>a("/api/search/products?".concat(t.toString())),jobs:t=>a("/api/search/jobs?".concat(t.toString())),posts:t=>a("/api/search/posts?".concat(t.toString()))},events:t=>a("/api/events?".concat(t.toString())),companies:{details:t=>a("/api/companies/".concat(t)),employees:(t,e)=>a("/api/companies/".concat(t,"/employees?limit=").concat(null!=e?e:10))},products:{details:t=>a("/api/products/".concat(t)),trending:t=>a("/api/products/trending?limit=".concat(null!=t?t:10))},jobs:{details:t=>a("/api/jobs/".concat(t)),full:(t,e)=>{let n=new URLSearchParams;return(null==e?void 0:e.offsite)!=null?n.set("offsite",String(e.offsite)):n.set("offsite","1"),(null==e?void 0:e.limit)!=null?n.set("limit",String(e.limit)):n.set("limit","10"),a("/api/jobs/".concat(t,"/full?").concat(n.toString()))}},posts:{details:t=>a("/api/posts/".concat(t)),comment:(t,e)=>a("/api/posts/".concat(t,"/comment"),{method:"POST",body:JSON.stringify(e)})},company:t=>a("/api/companies/".concat(t)),companyEmployees:(t,e)=>a("/api/companies/".concat(t,"/employees?limit=").concat(null!=e?e:10)),product:t=>a("/api/products/".concat(t)),trendingProducts:t=>a("/api/products/trending?limit=".concat(null!=t?t:10)),job:t=>a("/api/jobs/".concat(t)),post:t=>a("/api/posts/".concat(t)),comment:(t,e)=>a("/api/posts/".concat(t,"/comment"),{method:"POST",body:JSON.stringify(e)}),admin:{usage:()=>a("/api/admin/usage"),refreshCache:()=>a("/api/admin/refresh-cache",{method:"POST"})},searchLocation:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a("/api/search/location?query=".concat(encodeURIComponent(t),"&limit=").concat(e,"&offsite=").concat(n))},searchJobFunction:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a("/api/search/jobfunction?query=".concat(encodeURIComponent(t),"&limit=").concat(e,"&offsite=").concat(n))},searchIndustry:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a("/api/search/industry?query=".concat(encodeURIComponent(t),"&limit=").concat(e,"&offsite=").concat(n))},searchCompany:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a("/api/search/company?query=".concat(encodeURIComponent(t),"&limit=").concat(e,"&offsite=").concat(n))}}}},function(t){t.O(0,[115,364,744],function(){return t(t.s=649)}),_N_E=t.O()}]);